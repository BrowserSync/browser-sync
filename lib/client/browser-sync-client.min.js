"use strict";!function(a,b){var c,d={ghostMode:{enabled:!0,cache:{}}},e={tagNames:{css:"link",jpg:"img",jpeg:"img",png:"img",svg:"img",gif:"img",js:"script"},attrs:{link:"href",img:"src",script:"src"}},f=["background-color: black","color: white","padding: 10px","display: none","font-family: sans-serif","position: absolute","z-index: 1000","right: 0px"],g={processOptions:function(a,b,d,e){a.options=b,b.ghostMode&&this.initGhostMode(b.ghostMode,d,e),b.notify&&(c=this.createNotifyElem(f||null))},setOptions:function(a){d&&(d.options=a)},createNotifyElem:function(a){var b=document.createElement("DIV");return b.id="notifyElem",a&&(b.style.cssText=a.join(";")),document.getElementsByTagName("body")[0].appendChild(b),b},notify:function(b,c,d){return c.innerHTML=b,c.style.top=i.getScrollTop()+"px",c.style.display="block",a.setTimeout(function(){c.style.display="none"},d||1e3),c},initGhostMode:function(a,b,c){if(a.clicks&&i.initClickEvents(d,b,c.click),a.scroll&&i.initEvents(d,["scroll"],b,c),a.forms)for(var e=i.getInputs(),f=[[e.texts,"keyup","keyup"],[e.radios,"click","forceChange"],[e.radios,"change","radioChange"],[e.checkboxes,"click","forceChange"],[e.checkboxes,"change","checkboxChange"],["textarea","keyup","keyup"],["select","change","selectChange"],["form","submit","formSubmit"],["form","reset","formReset"]],g=0,h=f.length;h>g;g+=1)i.addBrowserEvents(f[g][0],f[g][1],c[f[g][2]],b)},reloadEvent:function(a,b,d){var e;if(b.url&&d.reloadBrowser(!0),b.assetFileName&&b.fileExtension){var f=this.getElems(b.fileExtension),h=this.getMatches(f.elems,b.assetFileName,f.attr);h.length&&g.notify("Injected: "+b.assetFileName,c);for(var i=0,j=h.length;j>i;i+=1)e=d.swapFile(h[i],f.attr,a)}return e},getElems:function(a){var b=this.getTagName(a),c=this.getAttr(b);return{elems:document.getElementsByTagName(b),attr:c}},getTagName:function(a){return e.tagNames[a]},getAttr:function(a){return e.attrs[a]},getMatches:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e+=1)-1!==a[e][c].indexOf(b)&&d.push(a[e]);return d}},h={reloadBrowser:function(a){a&&location.reload()},swapFile:function(a,b,c){var d=a[b],e=(new Date).getTime(),f="?rel="+e,g=/^[^\?]+(?=\?)/.exec(d);return g&&(d=g[0]),c&&c.options&&c.options.timestamps===!1&&(f=""),a[b]=d+f,{elem:a,timeStamp:e}}},i={getScrollPosition:function(){var b,c,d=document,e=d.documentElement,f=d.body;return void 0!==a.pageYOffset?[a.pageXOffset,a.pageYOffset]:(b=e.scrollLeft||f.scrollLeft||0,c=e.scrollTop||f.scrollTop||0,[b,c])},getScrollPercentage:function(a,b){var c=b[0]/a[0],d=b[1]/a[1];return[c,d]},getScrollSpace:function(){var a,b,c=document,d=c.documentElement,e=c.body;return a=e.scrollHeight-d.clientWidth,b=e.scrollHeight-d.clientHeight,[a,b]},getScrollTop:function(){return this.getScrollPosition()[1]},getScrollTopPercentage:function(){var a=this.getScrollSpace(),b=this.getScrollPosition();return this.getScrollPercentage(a,b)[1]},setScrollTop:function(b,c){b.enabled=!1,a.scrollTo(0,c)},simulateEvent:function(a,b){var c;document.createEvent?(c=document.createEvent("MouseEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c)):document.createEventObject&&(c=document.createEventObject(),c.cancelBubble=!0,a.fireEvent("on"+b,c))},checkCache:function(a,b){var c;return a[b]?a[b].elem:(a.called=a.called?a.called+=1:1,(c=document.getElementById(b))?(a[b]={},a[b].elem=c,c):!1)},initClickEvents:function(a,b,c){var d=document.getElementsByTagName("body")[0];this.composeElementEvent(d,b,"click",c)},initEvents:function(a,b,c,d){for(var e,f=0,g=b.length;g>f;f+=1)e=b[f],this.composeWindowEvent(c,e,d[e])},composeWindowEvent:function(b,c,d){a[b.eventListener](b.prefix+c,d,!1)},composeElementEvent:function(a,b,c,d){a[b.eventListener](b.prefix+"click",d,!1)},emitEvent:function(a,c){b&&b.emit&&b.emit(a,c)},addBrowserEvents:function(a,b,c,d){"string"==typeof a&&(a=document.getElementsByTagName(a));for(var e=0,f=a.length;f>e;e+=1)a[e][d.eventListener](d.prefix+b,c,!1)},getHref:function(a,b){var c,d=a.tagName;return c=b&&b.href?b.href:"A"===d?a.href:this.getParentHref(a,5)},getParentHref:function(a,b){for(var c,d=function(a){return"A"===a.parentNode.tagName?a.parentNode.href:a.parentNode},e=a,f=0;b>f;f+=1){if(c=d(e),"string"==typeof c)return c;e=c}return!1},getInputs:function(){for(var a=document.getElementsByTagName("input"),b=[],c=[],d=[],e=["text","email","url","tel","password"],f=0,g=a.length;g>f;f+=1){for(var h=a[f].type,i=0,j=e.length;j>i;i+=1)if(h===e[i]){b.push(a[f]);break}"radio"===a[f].type&&c.push(a[f]),"checkbox"===a[f].type&&d.push(a[f])}return{texts:b,radios:c,checkboxes:d}},listeners:{scroll:function(){var b,c=i.getScrollTopPercentage(),e=(new Date).getTime(),f=0;d.options&&d.options.scrollThrottle&&(f=d.options.scrollThrottle),d.ghostMode.lastScroll||(d.ghostMode.scrollTop=c[0],d.ghostMode.lastScroll=(new Date).getTime()),e>d.ghostMode.lastScroll+f&&d.ghostMode.enabled&&(d.ghostMode.lastScroll=e,b=a.location.host+a.location.pathname,i.emitEvent("scroll",{pos:c,url:b})),d.ghostMode.enabled=!0},click:function(a){if(d.ghostMode.enabled){var b=a.target||a.srcElement,c=b.tagName,e=document.getElementsByTagName(c),f=Array.prototype.indexOf.call(e,b),g={tagName:c,index:f};i.emitEvent("click",g)}else d.ghostMode.enabled=!0},keyup:function(a){var b=a.target||a.srcElement;b.id&&i.emitEvent("input:type",{id:b.id,value:b.value})},forceChange:function(){this.blur(),this.focus()},radioChange:function(a){var b=a.target||a.srcElement;i.emitEvent("input:radio",{id:b.id,value:b.value})},checkboxChange:function(a){var b=a.target||a.srcElement;i.emitEvent("input:checkbox",{id:b.id,checked:b.checked})},selectChange:function(a){var b=a.target||a.srcElement;i.emitEvent("input:select",{id:b.id,value:b.value})},formSubmit:function(a){var b=a.target||a.srcElement;i.emitEvent("form:submit",{id:b.id})},formReset:function(a){var b=a.target||a.srcElement;i.emitEvent("form:reset",{id:b.id})}},utils:{eventListener:a.addEventListener?"addEventListener":"attachEvent",removeEventListener:a.removeEventListener?"removeEventListener":"detachEvent",prefix:a.addEventListener?"":"on"}};a.__karma__&&(a.BrowserSync=g,a.browserSyncActions=h,a.ghost=i,a.scope=d,b.on=function(){}),b.on("connection",function(a){g.processOptions(d,a,i.utils,i.listeners)}),b.on("reload",function(a){a&&g.reloadEvent(d,a,h)}),b.on("click",function(a){var b=document.getElementsByTagName(a.tagName),c=b[a.index];d.ghostMode.enabled=!1,c&&i.simulateEvent(c,"click")}),b.on("location:update",function(b){b.url&&(a.location=b.url)}),b.on("scroll:update",function(b){if(b.url===a.location.host+a.location.pathname){var c=i.getScrollSpace();d.ghostMode.enabled=!1,a.scrollTo(0,c[1]*b.position)}}),b.on("input:update",function(a){d.ghostMode.enabled=!1;var b=i.checkCache(d.ghostMode.cache,a.id);b.value=a.value}),b.on("input:update:radio",function(a){d.ghostMode.enabled=!1;var b=i.checkCache(d.ghostMode.cache,a.id);b.checked=!0}),b.on("input:update:checkbox",function(a){d.ghostMode.enabled=!1;var b=i.checkCache(d.ghostMode.cache,a.id);b.checked=a.checked}),b.on("form:submit",function(a){d.ghostMode.enabled=!1,document.forms[a.id].submit()}),b.on("form:reset",function(a){d.ghostMode.enabled=!1,document.forms[a.id].reset()})}(window,"undefined"==typeof ___socket___?{}:___socket___);